#!/usr/bin/env bash
set -euo pipefail

repo_root="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"

usage() {
  cat <<'EOF'
Usage:
  scripts/opencoder-skill nim

Prints the requested Opencoder skill prompt to stdout.

Examples:
  scripts/opencoder-skill nim
  opencoder "$(scripts/opencoder-skill nim)

<YOUR TASK HERE>"
EOF
}

if [[ $# -ne 1 ]]; then
  usage
  exit 2
fi

skill="$1"
skill_file="${repo_root}/.opencoder/skills/${skill}.md"

if [[ ! -f "$skill_file" ]]; then
  echo "error: unknown skill '$skill' (expected file: $skill_file)" >&2
  exit 1
fi

cat "$skill_file"
