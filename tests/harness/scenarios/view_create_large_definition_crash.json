{
  "name": "view_create_large_definition_crash",
  "description": "Crash during large CREATE VIEW definition should recover atomically",
  "db_path": "$TMPDIR/decentdb_view_large_crash.ddb",
  "setup_sql": "CREATE TABLE t (id INT PRIMARY KEY); INSERT INTO t VALUES (1)",
  "sql": "CREATE VIEW big_v AS SELECT id AS c0001, id AS c0002, id AS c0003, id AS c0004, id AS c0005, id AS c0006, id AS c0007, id AS c0008, id AS c0009, id AS c0010, id AS c0011, id AS c0012, id AS c0013, id AS c0014, id AS c0015, id AS c0016, id AS c0017, id AS c0018, id AS c0019, id AS c0020, id AS c0021, id AS c0022, id AS c0023, id AS c0024, id AS c0025, id AS c0026, id AS c0027, id AS c0028, id AS c0029, id AS c0030, id AS c0031, id AS c0032, id AS c0033, id AS c0034, id AS c0035, id AS c0036, id AS c0037, id AS c0038, id AS c0039, id AS c0040, id AS c0041, id AS c0042, id AS c0043, id AS c0044, id AS c0045, id AS c0046, id AS c0047, id AS c0048, id AS c0049, id AS c0050, id AS c0051, id AS c0052, id AS c0053, id AS c0054, id AS c0055, id AS c0056, id AS c0057, id AS c0058, id AS c0059, id AS c0060, id AS c0061, id AS c0062, id AS c0063, id AS c0064, id AS c0065, id AS c0066, id AS c0067, id AS c0068, id AS c0069, id AS c0070, id AS c0071, id AS c0072, id AS c0073, id AS c0074, id AS c0075, id AS c0076, id AS c0077, id AS c0078, id AS c0079, id AS c0080, id AS c0081, id AS c0082, id AS c0083, id AS c0084, id AS c0085, id AS c0086, id AS c0087, id AS c0088, id AS c0089, id AS c0090, id AS c0091, id AS c0092, id AS c0093, id AS c0094, id AS c0095, id AS c0096, id AS c0097, id AS c0098, id AS c0099, id AS c0100, id AS c0101, id AS c0102, id AS c0103, id AS c0104, id AS c0105, id AS c0106, id AS c0107, id AS c0108, id AS c0109, id AS c0110, id AS c0111, id AS c0112, id AS c0113, id AS c0114, id AS c0115, id AS c0116, id AS c0117, id AS c0118, id AS c0119, id AS c0120, id AS c0121, id AS c0122, id AS c0123, id AS c0124, id AS c0125, id AS c0126, id AS c0127, id AS c0128, id AS c0129, id AS c0130, id AS c0131, id AS c0132, id AS c0133, id AS c0134, id AS c0135, id AS c0136, id AS c0137, id AS c0138, id AS c0139, id AS c0140, id AS c0141, id AS c0142, id AS c0143, id AS c0144, id AS c0145, id AS c0146, id AS c0147, id AS c0148, id AS c0149, id AS c0150, id AS c0151, id AS c0152, id AS c0153, id AS c0154, id AS c0155, id AS c0156, id AS c0157, id AS c0158, id AS c0159, id AS c0160, id AS c0161, id AS c0162, id AS c0163, id AS c0164, id AS c0165, id AS c0166, id AS c0167, id AS c0168, id AS c0169, id AS c0170, id AS c0171, id AS c0172, id AS c0173, id AS c0174, id AS c0175, id AS c0176, id AS c0177, id AS c0178, id AS c0179, id AS c0180, id AS c0181, id AS c0182, id AS c0183, id AS c0184, id AS c0185, id AS c0186, id AS c0187, id AS c0188, id AS c0189, id AS c0190, id AS c0191, id AS c0192, id AS c0193, id AS c0194, id AS c0195, id AS c0196, id AS c0197, id AS c0198, id AS c0199, id AS c0200, id AS c0201, id AS c0202, id AS c0203, id AS c0204, id AS c0205, id AS c0206, id AS c0207, id AS c0208, id AS c0209, id AS c0210, id AS c0211, id AS c0212, id AS c0213, id AS c0214, id AS c0215, id AS c0216, id AS c0217, id AS c0218, id AS c0219, id AS c0220, id AS c0221, id AS c0222, id AS c0223, id AS c0224, id AS c0225, id AS c0226, id AS c0227, id AS c0228, id AS c0229, id AS c0230, id AS c0231, id AS c0232, id AS c0233, id AS c0234, id AS c0235, id AS c0236, id AS c0237, id AS c0238, id AS c0239, id AS c0240, id AS c0241, id AS c0242, id AS c0243, id AS c0244, id AS c0245, id AS c0246, id AS c0247, id AS c0248, id AS c0249, id AS c0250, id AS c0251, id AS c0252, id AS c0253, id AS c0254, id AS c0255, id AS c0256, id AS c0257, id AS c0258, id AS c0259, id AS c0260, id AS c0261, id AS c0262, id AS c0263, id AS c0264, id AS c0265, id AS c0266, id AS c0267, id AS c0268, id AS c0269, id AS c0270, id AS c0271, id AS c0272, id AS c0273, id AS c0274, id AS c0275, id AS c0276, id AS c0277, id AS c0278, id AS c0279, id AS c0280, id AS c0281, id AS c0282, id AS c0283, id AS c0284, id AS c0285, id AS c0286, id AS c0287, id AS c0288, id AS c0289, id AS c0290, id AS c0291, id AS c0292, id AS c0293, id AS c0294, id AS c0295, id AS c0296, id AS c0297, id AS c0298, id AS c0299, id AS c0300, id AS c0301, id AS c0302, id AS c0303, id AS c0304, id AS c0305, id AS c0306, id AS c0307, id AS c0308, id AS c0309, id AS c0310, id AS c0311, id AS c0312, id AS c0313, id AS c0314, id AS c0315, id AS c0316, id AS c0317, id AS c0318, id AS c0319, id AS c0320, id AS c0321, id AS c0322, id AS c0323, id AS c0324, id AS c0325, id AS c0326, id AS c0327, id AS c0328, id AS c0329, id AS c0330, id AS c0331, id AS c0332, id AS c0333, id AS c0334, id AS c0335, id AS c0336, id AS c0337, id AS c0338, id AS c0339, id AS c0340, id AS c0341, id AS c0342, id AS c0343, id AS c0344, id AS c0345, id AS c0346, id AS c0347, id AS c0348, id AS c0349, id AS c0350, id AS c0351, id AS c0352, id AS c0353, id AS c0354, id AS c0355, id AS c0356, id AS c0357, id AS c0358, id AS c0359, id AS c0360, id AS c0361, id AS c0362, id AS c0363, id AS c0364, id AS c0365, id AS c0366, id AS c0367, id AS c0368, id AS c0369, id AS c0370, id AS c0371, id AS c0372, id AS c0373, id AS c0374, id AS c0375, id AS c0376, id AS c0377, id AS c0378, id AS c0379, id AS c0380, id AS c0381, id AS c0382, id AS c0383, id AS c0384, id AS c0385, id AS c0386, id AS c0387, id AS c0388, id AS c0389, id AS c0390, id AS c0391, id AS c0392, id AS c0393, id AS c0394, id AS c0395, id AS c0396, id AS c0397, id AS c0398, id AS c0399, id AS c0400, id AS c0401, id AS c0402, id AS c0403, id AS c0404, id AS c0405, id AS c0406, id AS c0407, id AS c0408, id AS c0409, id AS c0410, id AS c0411, id AS c0412, id AS c0413, id AS c0414, id AS c0415, id AS c0416, id AS c0417, id AS c0418, id AS c0419, id AS c0420, id AS c0421, id AS c0422, id AS c0423, id AS c0424, id AS c0425, id AS c0426, id AS c0427, id AS c0428, id AS c0429, id AS c0430, id AS c0431, id AS c0432, id AS c0433, id AS c0434, id AS c0435, id AS c0436, id AS c0437, id AS c0438, id AS c0439, id AS c0440, id AS c0441, id AS c0442, id AS c0443, id AS c0444, id AS c0445, id AS c0446, id AS c0447, id AS c0448, id AS c0449, id AS c0450 FROM t",
  "failpoint": {
    "label": "wal_write_frame",
    "kind": "error",
    "count": 1
  },
  "verify": {
    "expect_crash": true,
    "post_crash_sql": "SELECT COUNT(*) FROM t",
    "expect_rows": [
      "1"
    ]
  }
}
